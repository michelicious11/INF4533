// Generated by CoffeeScript 2.3.1
(function() {
  var counter, json_file_object, ld, my_obj, test;

  ld = require('lodash');

  json_file_object = require("./");

  counter = 3;

  my_obj = json_file_object({
    value: {
      hey: "Start"
    },
    file: "test.json",
    saveEverySecs: 1,
    forceNew: true
  });

  test = function() {
    console.log(counter, JSON.stringify(my_obj));
    my_obj[counter] = ld.clone(my_obj);
    if (counter > 0) {
      counter--;
      return setTimeout(test, 1000);
    } else {
      json_file_object.stopAll();
      return console.log("The file 'test.json' was created and contains the content of 'my_obj'");
    }
  };

  test();

}).call(this);
